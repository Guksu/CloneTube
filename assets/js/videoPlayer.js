(()=>{var e=document.querySelector("video"),t=document.getElementById("play"),n=t.querySelector("i"),u=document.getElementById("mute"),a=u.querySelector("i"),d=document.getElementById("currentTime"),i=document.getElementById("totalTime"),o=document.getElementById("volume"),l=document.getElementById("timeline"),r=document.getElementById("fullscreen"),s=r.querySelector("i"),m=document.getElementById("videoContainer"),c=document.getElementById("videoControls");e.volume=.5;var v=null,f=null,E=function(e){return new Date(1e3*e).toISOString().substr(14,5)},y=function(){return c.classList.remove("showing")};t.addEventListener("click",(function(){e.paused?e.play():e.pause(),n.classList=e.paused?"fas fa-play":"fas fa-pause"})),u.addEventListener("click",(function(){e.muted?e.muted=!1:e.muted=!0,a.classList=e.muted?"fas fa-volume-mute":"fas fa-volume-up",o.value=e.muted?0:.5})),o.addEventListener("input",(function(t){var n=t.target.value;"0"===n?(e.muted=!0,u.innerText="Unmute"):(e.muted=!1,u.innerText="Mute"),e.volume=n})),e.addEventListener("loadeddata",(function(){i.innerText=E(Math.floor(e.duration)),l.max=Math.floor(e.duration)})),e.addEventListener("timeupdate",(function(){d.innerText=E(Math.floor(e.currentTime)),l.value=Math.floor(e.currentTime)})),e.addEventListener("ended",(function(){var e=m.dataset.id;fetch("/api/videos/".concat(e,"/view"),{method:"POST"})})),l.addEventListener("input",(function(t){var n=t.target.value;e.currentTime=n})),r.addEventListener("click",(function(){document.fullscreenElement?(document.exitFullscreen(),s.classList="fas fa-expand"):(m.requestFullscreen(),s.classList="fas fa-compress")})),m.addEventListener("mousemove",(function(){v&&(clearTimeout(v),v=null),f&&(clearTimeout(f),f=null),c.classList.add("showing"),f=setTimeout(y,3e3)})),m.addEventListener("mouseleave",(function(){v=setTimeout(y,3e3)}))})();