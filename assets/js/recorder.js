(()=>{function e(e,n,t,r,i,o,c){try{var a=e[o](c),d=a.value}catch(e){return void t(e)}a.done?n(d):Promise.resolve(d).then(r,i)}var n,t,r,i=document.getElementById("startBtn"),o=(document.getElementById("preview"),function(){var e=document.createElement("a");e.href=r,e.download="MyRecording.webm",document.body.appendChild(e),e.click()}),c=function e(){i.innerText="Download Recording",i.removeEventListener("click",e),i.addEventListener("click",o),t.stop(),t.stop()};(function(){var t,r=(t=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({audio:!1,video:!0});case 2:n=e.sent,video.srcObject=n,video.play();case 5:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(i,o){var c=t.apply(n,r);function a(n){e(c,i,o,a,d,"next",n)}function d(n){e(c,i,o,a,d,"throw",n)}a(void 0)}))});return function(){return r.apply(this,arguments)}})()(),i.addEventListener("click",(function e(){i.innerText="Stop Recording",i.removeEventListener("click",e),i.addEventListener("click",c),(t=new MediaRecorder(n,{mimeType:"video/webm"})).ondataavailable=function(e){r=URL.createObjectURL(e.data),video.srcObject=null,video.src=r,video.loop=!0,video.play()}}))})();